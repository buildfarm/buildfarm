<!DOCTYPE html><html lang="en-US"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=Edge"><link rel="shortcut icon" href="/buildfarm/favicon.ico" type="image/x-icon"><link rel="stylesheet" href="/buildfarm/assets/css/just-the-docs-default.css"> <script type="text/javascript" src="/buildfarm/assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="/buildfarm/assets/js/just-the-docs.js"></script><meta name="viewport" content="width=device-width, initial-scale=1"><title>Properties | Buildfarm</title><meta name="generator" content="Jekyll v4.3.4" /><meta property="og:title" content="Properties" /><meta property="og:locale" content="en_US" /><meta name="description" content="Remote Caching and Execution" /><meta property="og:description" content="Remote Caching and Execution" /><link rel="canonical" href="https://buildfarm.github.io/buildfarm/docs/execution/execution_properties/" /><meta property="og:url" content="https://buildfarm.github.io/buildfarm/docs/execution/execution_properties/" /><meta property="og:site_name" content="Buildfarm" /><meta property="og:type" content="website" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Properties" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebPage","description":"Remote Caching and Execution","headline":"Properties","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://buildfarm.github.io/buildfarm/assets/images/buildfarm-logo.png"}},"url":"https://buildfarm.github.io/buildfarm/docs/execution/execution_properties/"}</script><body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"><title>Link</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"><title>Search</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"><title>Menu</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"><title>Expand</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"><polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"><title>Document</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"><path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> </svg><div class="side-bar"><div class="site-header"> <a href="https://buildfarm.github.io/buildfarm/" class="site-title lh-tight"><div class="site-logo"></div></a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a></div><nav role="navigation" aria-label="Main" id="site-nav" class="site-nav"><ul class="nav-list"><li class="nav-list-item"><a href="https://buildfarm.github.io/buildfarm/" class="nav-list-link">Home</a><li class="nav-list-item"><a href="https://buildfarm.github.io/buildfarm/docs/features/" class="nav-list-link">Features</a><li class="nav-list-item"><a href="https://buildfarm.github.io/buildfarm/docs/quick_start/" class="nav-list-link">Quick Start</a><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://buildfarm.github.io/buildfarm/docs/configuration/configuration/" class="nav-list-link">Configuration</a><ul class="nav-list "><li class="nav-list-item "><a href="https://buildfarm.github.io/buildfarm/docs/configuration/authentication/" class="nav-list-link">Authentication</a></ul><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://buildfarm.github.io/buildfarm/docs/architecture/architecture/" class="nav-list-link">Architecture</a><ul class="nav-list "><li class="nav-list-item "><a href="https://buildfarm.github.io/buildfarm/docs/architecture/instance_types/" class="nav-list-link">Instance Types</a><li class="nav-list-item "><a href="https://buildfarm.github.io/buildfarm/docs/architecture/workers/" class="nav-list-link">Workers</a><li class="nav-list-item "><a href="https://buildfarm.github.io/buildfarm/docs/architecture/schedulers/" class="nav-list-link">Schedulers</a><li class="nav-list-item "><a href="https://buildfarm.github.io/buildfarm/docs/architecture/worker-execution-environment/" class="nav-list-link">Worker Execution Environment</a><li class="nav-list-item "><a href="https://buildfarm.github.io/buildfarm/docs/architecture/queues/" class="nav-list-link">Queues</a><li class="nav-list-item "><a href="https://buildfarm.github.io/buildfarm/docs/architecture/action_cache/" class="nav-list-link">Action Cache</a><li class="nav-list-item "><a href="https://buildfarm.github.io/buildfarm/docs/architecture/CASFileCache/" class="nav-list-link">CASFileCache</a><li class="nav-list-item "><a href="https://buildfarm.github.io/buildfarm/docs/architecture/content_addressable_storage/" class="nav-list-link">CAS</a><li class="nav-list-item "><a href="https://buildfarm.github.io/buildfarm/docs/architecture/redis/" class="nav-list-link">Redis</a></ul><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://buildfarm.github.io/buildfarm/docs/execution/execution/" class="nav-list-link">Execution</a><ul class="nav-list "><li class="nav-list-item "><a href="https://buildfarm.github.io/buildfarm/docs/execution/debugging-executions/" class="nav-list-link">Debugging</a><li class="nav-list-item "><a href="https://buildfarm.github.io/buildfarm/docs/execution/environment/" class="nav-list-link">Environment</a><li class="nav-list-item "><a href="https://buildfarm.github.io/buildfarm/docs/execution/exec_owner/" class="nav-list-link">Owner</a><li class="nav-list-item "><a href="https://buildfarm.github.io/buildfarm/docs/execution/execution_limiting/" class="nav-list-link">Limiting</a><li class="nav-list-item "><a href="https://buildfarm.github.io/buildfarm/docs/execution/builds-without-the-bytes/" class="nav-list-link">Build Without Bytes</a><li class="nav-list-item active"><a href="https://buildfarm.github.io/buildfarm/docs/execution/execution_properties/" class="nav-list-link active">Properties</a><li class="nav-list-item "><a href="https://buildfarm.github.io/buildfarm/docs/execution/execution_policies/" class="nav-list-link">Policies</a><li class="nav-list-item "><a href="https://buildfarm.github.io/buildfarm/docs/execution/observability/" class="nav-list-link">Observability</a></ul><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://buildfarm.github.io/buildfarm/docs/metrics/metrics/" class="nav-list-link">Metrics</a><ul class="nav-list "><li class="nav-list-item "><a href="https://buildfarm.github.io/buildfarm/docs/metrics/alerts/" class="nav-list-link">Alerts</a></ul><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://buildfarm.github.io/buildfarm/docs/tools/tools/" class="nav-list-link">Tools</a><ul class="nav-list "><li class="nav-list-item "><a href="https://buildfarm.github.io/buildfarm/docs/tools/troubleshooting-bazel-remote-execution/" class="nav-list-link">Troubleshooting</a><li class="nav-list-item "><a href="https://buildfarm.github.io/buildfarm/docs/tools/bf-cat/" class="nav-list-link">bf-cat</a></ul><li class="nav-list-item"><a href="https://buildfarm.github.io/buildfarm/docs/admin/" class="nav-list-link">Admin</a><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://buildfarm.github.io/buildfarm/docs/contribute/contribute/" class="nav-list-link">Contribute</a><ul class="nav-list "><li class="nav-list-item "><a href="https://buildfarm.github.io/buildfarm/docs/contribute/local_development/" class="nav-list-link">Local Development</a><li class="nav-list-item "><a href="https://buildfarm.github.io/buildfarm/docs/contribute/design-documents/" class="nav-list-link">Design Documents</a></ul></ul></nav><footer class="site-footer"></footer></div><div class="main" id="top"><div id="main-header" class="main-header"><div class="search"><div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Buildfarm" aria-label="Search Buildfarm" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label></div><div id="search-results" class="search-results"></div></div><nav aria-label="Auxiliary" class="aux-nav"><ul class="aux-nav-list"><li class="aux-nav-list-item"> <a href="https://github.com/buildfarm/buildfarm" class="site-button" > GitHub </a></ul></nav></div><div id="main-content-wrap" class="main-content-wrap"><nav aria-label="Breadcrumb" class="breadcrumb-nav"><ol class="breadcrumb-nav-list"><li class="breadcrumb-nav-list-item"><a href="https://buildfarm.github.io/buildfarm/docs/execution/execution/">Execution</a><li class="breadcrumb-nav-list-item"><span>Properties</span></ol></nav><div id="main-content" class="main-content" role="main"><p>This page contains all of the <a href="https://docs.bazel.build/versions/master/be/common-definitions.html#common.exec_properties">execution properties</a> supported by Buildfarm. Users can also customize buildfarm to understand additional properties that are not listed here (This is often done when configuring the <a href="https://github.com/buildfarm/buildfarm/wiki/Operation-Queue">Operation Queue</a>).</p><h2 id="core-selection"> <a href="#core-selection" class="anchor-heading" aria-labelledby="core-selection"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Core Selection:</h2><h3 id="min-cores"> <a href="#min-cores" class="anchor-heading" aria-labelledby="min-cores"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <code class="language-plaintext highlighter-rouge">min-cores</code></h3><p><strong>description:</strong> the minimum number of cores needed by an action. Should be set to &gt;= 1 Workers and queues can be configured to behave differently based on this property.</p><h3 id="max-cores"> <a href="#max-cores" class="anchor-heading" aria-labelledby="max-cores"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <code class="language-plaintext highlighter-rouge">max-cores</code></h3><p><strong>description:</strong> the maximum number of cores needed by an action. Buildfarm will enforce a max. Workers and queues can be configured to behave differently based on this property.</p><h3 id="cores"> <a href="#cores" class="anchor-heading" aria-labelledby="cores"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <code class="language-plaintext highlighter-rouge">cores</code></h3><p><strong>description:</strong> the minimum &amp; maximum number of cores needed by an action. This sets both <code class="language-plaintext highlighter-rouge">min-cores</code> and <code class="language-plaintext highlighter-rouge">max-cores</code> accordingly.</p><p><strong>use case:</strong> very often you want unit tests (or all actions in general) to be constrained to a core limit via cgroups. This is relevant for performance and stability of the worker as multiple tests share the same hardware as the worker.</p><h2 id="memory-selection"> <a href="#memory-selection" class="anchor-heading" aria-labelledby="memory-selection"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Memory Selection:</h2><h3 id="min-mem"> <a href="#min-mem" class="anchor-heading" aria-labelledby="min-mem"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <code class="language-plaintext highlighter-rouge">min-mem</code></h3><p><strong>description:</strong> the minimum amount of bytes the action may use.</p><h3 id="max-mem"> <a href="#max-mem" class="anchor-heading" aria-labelledby="max-mem"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <code class="language-plaintext highlighter-rouge">max-mem</code></h3><p><strong>description:</strong> the maximum amount of bytes the action may use.</p><p><strong>use case:</strong> very often you want unit tests (or all actions in general) to be constrained to a memory limit via cgroups. This is relevant for performance and stability of the worker as multiple tests share the same hardware as the worker. Tests that exceed their memory requirements will be killed.</p><h2 id="execution-settings"> <a href="#execution-settings" class="anchor-heading" aria-labelledby="execution-settings"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Execution Settings:</h2><h3 id="linux-sandbox"> <a href="#linux-sandbox" class="anchor-heading" aria-labelledby="linux-sandbox"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <code class="language-plaintext highlighter-rouge">linux-sandbox</code></h3><p><strong>description:</strong> Use bazel’s linux sandbox as an execution wrapper.</p><h3 id="fake-hostname"> <a href="#fake-hostname" class="anchor-heading" aria-labelledby="fake-hostname"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <code class="language-plaintext highlighter-rouge">fake-hostname</code></h3><p><strong>description:</strong> Uses <code class="language-plaintext highlighter-rouge">localhost</code> as the hostname during execution. Assumes the usage of the linux sandbox.</p><h3 id="block-network"> <a href="#block-network" class="anchor-heading" aria-labelledby="block-network"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <code class="language-plaintext highlighter-rouge">block-network</code></h3><p><strong>description:</strong> Creates a new network namespace. Assumes the usage of the linux sandbox.</p><h3 id="tmpfs"> <a href="#tmpfs" class="anchor-heading" aria-labelledby="tmpfs"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <code class="language-plaintext highlighter-rouge">tmpfs</code></h3><p><strong>description:</strong> Mounts an empty tmpfs under <code class="language-plaintext highlighter-rouge">/tmp</code> for the action. Assumes the usage of the linux sandbox.</p><h2 id="queue--pool-selection"> <a href="#queue--pool-selection" class="anchor-heading" aria-labelledby="queue--pool-selection"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Queue / Pool Selection:</h2><h3 id="choose-queue"> <a href="#choose-queue" class="anchor-heading" aria-labelledby="choose-queue"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <code class="language-plaintext highlighter-rouge">choose-queue</code></h3><p><strong>description:</strong> place the action directly on the chosen queue (queue name must be known based on buildfarm configuration).</p><p><strong>use case:</strong> Other remote execution solutions have slightly different paradigms on deciding where actions go. They leverage execution properties for selecting a “pool” of machines to send the action. We sort of have a pool of workers waiting on particular queues. For parity with this concept, we support this execution property which will take precedence in deciding queue eligibility.</p><h2 id="extending-execution"> <a href="#extending-execution" class="anchor-heading" aria-labelledby="extending-execution"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Extending Execution:</h2><h3 id="env-var--env-vars"> <a href="#env-var--env-vars" class="anchor-heading" aria-labelledby="env-var--env-vars"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <code class="language-plaintext highlighter-rouge">env-var</code> / <code class="language-plaintext highlighter-rouge">env-vars</code></h3><p><strong>description:</strong> ensure the action is executed with additional environment variables. These variables are applied last in the order given.</p><p><code class="language-plaintext highlighter-rouge">env-var</code> expects a single key/value like <code class="language-plaintext highlighter-rouge">--remote_default_exec_properties=env-var:FOO=VALUE</code> <code class="language-plaintext highlighter-rouge">env-vars</code> expects a key/json like <code class="language-plaintext highlighter-rouge">--remote_default_exec_properties=env-vars='{"FOO": "VALUE","FOO2": "VALUE2"}'</code></p><p><strong>use case:</strong> Users may need to set additional environment variables through <code class="language-plaintext highlighter-rouge">exec_properties</code>. Changing code or using <code class="language-plaintext highlighter-rouge">--action_env</code> may be less feasible than specifying them through these exec_properties. Additionally, the values of their environment variables may need to be influenced by buildfarm decisions.</p><p><strong>example:</strong> pytorch tests can still see the underlying hardware through <code class="language-plaintext highlighter-rouge">/proc/cpuinfo</code>. Despite being given 1 core, they see all of the cpus and decide to spawn that many threads. This essentially starves them and gives poor test performance (we may spoof cpuinfo in the future). Another solution is to use env vars <code class="language-plaintext highlighter-rouge">OMP_NUM_THREADS</code> and <code class="language-plaintext highlighter-rouge">MKL_NUM_THREADS</code>. This could be done in code, but we can’t trust that developers will do it consistently or keep it in sync with <code class="language-plaintext highlighter-rouge">min-cores</code> / <code class="language-plaintext highlighter-rouge">max-cores</code>. Allowing these environment variables to be passed the same way as the core settings would be ideal.</p><p><strong>Standard Example:</strong> This test will succeed when env var TESTVAR is foobar, and fail otherwise.</p><div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#!/usr/bin/env bash</span>
<span class="o">[</span> <span class="s2">"</span><span class="nv">$TESTVAR</span><span class="s2">"</span> <span class="o">=</span> <span class="s2">"foobar"</span> <span class="o">]</span>
</code></pre></div></div><div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>./bazel <span class="nb">test</span>  <span class="se">\</span>
<span class="nt">--remote_executor</span><span class="o">=</span>grpc://127.0.0.1:8980 <span class="nt">--noremote_accept_cached</span>  <span class="nt">--nocache_test_results</span> <span class="se">\</span>
//env_test:main
FAIL
</code></pre></div></div><div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>./bazel <span class="nb">test</span> <span class="nt">--remote_default_exec_properties</span><span class="o">=</span><span class="s1">'env-vars={"TESTVAR": "foobar"}'</span> <span class="se">\</span>
 <span class="nt">--remote_executor</span><span class="o">=</span>grpc://127.0.0.1:8980 <span class="nt">--noremote_accept_cached</span>  <span class="nt">--nocache_test_results</span> <span class="se">\</span>
//env_test:main
PASS
</code></pre></div></div><p><strong>Template Example:</strong> If you give a range of cores, buildfarm has the authority to decide how many your operation actually claims. You can let buildfarm resolve this value for you (via <a href="https://mustache.github.io/">mustache</a>).</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#!/usr/bin/env bash</span>
<span class="o">[</span> <span class="s2">"</span><span class="nv">$MKL_NUM_THREADS</span><span class="s2">"</span> <span class="o">=</span> <span class="s2">"1"</span> <span class="o">]</span>
</code></pre></div></div><div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>./bazel <span class="nb">test</span>  <span class="se">\</span>
<span class="nt">--remote_executor</span><span class="o">=</span>grpc://127.0.0.1:8980 <span class="nt">--noremote_accept_cached</span>  <span class="nt">--nocache_test_results</span> <span class="se">\</span>
//env_test:main
FAIL
</code></pre></div></div><div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>./bazel <span class="nb">test</span>  <span class="se">\</span>
<span class="nt">--remote_default_exec_properties</span><span class="o">=</span><span class="s1">'env-vars="MKL_NUM_THREADS": ""'</span> <span class="se">\</span>
<span class="nt">--remote_executor</span><span class="o">=</span>grpc://127.0.0.1:8980 <span class="nt">--noremote_accept_cached</span>  <span class="nt">--nocache_test_results</span> <span class="se">\</span>
//env_test:main
PASS
</code></pre></div></div><p><strong>Available Templates:</strong> <code class="language-plaintext highlighter-rouge">: what buildfarm has decided is a valid min core count for the action. </code>: what buildfarm has decided is a valid max core count for the action. ``: buildfarm’s decision on how many cores your action should claim.</p><h2 id="debugging-execution"> <a href="#debugging-execution" class="anchor-heading" aria-labelledby="debugging-execution"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Debugging Execution:</h2><h3 id="debug-before-execution"> <a href="#debug-before-execution" class="anchor-heading" aria-labelledby="debug-before-execution"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <code class="language-plaintext highlighter-rouge">debug-before-execution</code></h3><p><strong>description:</strong> Fails the execution with important debug information on how the execution will be performed. <strong>use case:</strong> Sometimes you want to know the exact execution context and cli that the action is going to be run with. This can help any situation where local action behavior seems different than remote action behavior.</p><h3 id="debug-after-execution"> <a href="#debug-after-execution" class="anchor-heading" aria-labelledby="debug-after-execution"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <code class="language-plaintext highlighter-rouge">debug-after-execution</code></h3><p><strong>description:</strong> Runs the execution, but fails it afterward with important debug information on how the execution was performed.</p><h2 id="execution-flow"> <a href="#execution-flow" class="anchor-heading" aria-labelledby="execution-flow"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Execution Flow:</h2><p>This is a special set of action mnemonics (<em>not</em> Platform properties) that can be used to test the flow of actions through the execution segments (prequeue/queue). In all of these cases, the buildfarm agent which observes the operation at the halt state will deliver a <code class="language-plaintext highlighter-rouge">done</code> operation with no further processing.</p><h3 id="buildfarmhalt-on-execute"> <a href="#buildfarmhalt-on-execute" class="anchor-heading" aria-labelledby="buildfarmhalt-on-execute"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <code class="language-plaintext highlighter-rouge">buildfarm:halt-on-execute</code></h3><p>Server halts execution after receiving the execute request. This is the earliest possible halt after creating the operation.</p><h3 id="buildfarmhalt-on-deprequeue"> <a href="#buildfarmhalt-on-deprequeue" class="anchor-heading" aria-labelledby="buildfarmhalt-on-deprequeue"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <code class="language-plaintext highlighter-rouge">buildfarm:halt-on-deprequeue</code></h3><p>Server which removes the prequeue entry halts execution. This guarantees flow through the prequeue infrastructure.</p><h3 id="buildfarmhalt-on-dequeue"> <a href="#buildfarmhalt-on-dequeue" class="anchor-heading" aria-labelledby="buildfarmhalt-on-dequeue"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <code class="language-plaintext highlighter-rouge">buildfarm:halt-on-dequeue</code></h3><p>Worker which removes the queue entry halts execution. This guarantees flow through the queue and match.</p><h2 id="additional-information"> <a href="#additional-information" class="anchor-heading" aria-labelledby="additional-information"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Additional Information</h2><p>Custom properties can also be added to buildfarm’s configuration in order to facilitate queue matching (see <a href="https://buildfarm.github.io/buildfarm/docs/architecture/queues/">Queues</a>).</p><p>Please note that not all execution properties may be relevant to you or the best option depending on your build client. For example, some execution properties were created to facilitate behavior before bazel had a better solution in place.</p><p>Buildfarm’s configuration for accepting execution properties can be strict or flexible. Buildfarm has been used alongside other remote execution tools and allowing increased flexibility on these properties is necessary so the solutions can coexist for the same targets.</p><hr><footer><p class="text-small text-grey-dk-100 mb-0"></p><div class="d-flex mt-2"><p class="text-small text-grey-dk-000 mb-0"> <a href="https://github.com/buildfarm/buildfarm/edit/main/_site/docs/execution/execution_properties.md" id="edit-this-page">Edit on GitHub</a></p></div></footer></div></div><div class="search-overlay"></div></div>
